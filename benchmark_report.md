# Pitch Detection Algorithm Benchmark Report

## Benchmark Methodology

### Evaluation Setup
This benchmark evaluates pitch detection algorithms across multiple datasets with different characteristics, including synthetic and real audio from speech and music domains. Each algorithm is tested on noisy audio generated by mixing clean datasets with CHiME background noise at various signal-to-noise ratios (10-30 dB) and voice gain variations (-6 to +6 dB).

### Performance Metric Definition
The **Overall Performance Rankings** show the **Harmonic Mean (HM)** score as percentages, computed from six complementary components:

**HM = 6 / (1/RPA + 1/CA + 1/P + 1/R + 1/OA + 1/GEA)**

Where:
- **RPA** (Raw Pitch Accuracy): Fraction of voiced frames within 50 cents of ground truth
- **CA** (Cents Accuracy): exp(-mean_cents_error/500), penalizing larger deviations exponentially
- **P** (Voicing Precision): TP/(TP+FP), fraction of predicted voiced frames that are truly voiced
- **R** (Voicing Recall): TP/(TP+FN), fraction of truly voiced frames detected
- **OA** (Octave Accuracy): exp(-10×octave_error_rate), robustness against octave errors
- **GEA** (Gross Error Accuracy): exp(-5×gross_error_rate), penalizing deviations >200 cents

### Speed Benchmark Details
CPU timing measurements are performed on 1-second audio signals at 22.05 kHz sample rate with 256-sample hop length. The reported **CPU Time (ms)** represents the average processing time per 1-second audio segment across multiple runs. **Relative Speed** shows performance relative to CREPE as the baseline algorithm.

### Optimal Threshold Analysis
The **Optimal Threshold** refers to the voicing confidence threshold that maximizes the Harmonic Mean score. Algorithms test multiple thresholds (0.0 to 1.0 in steps of 0.1) and select the one yielding the highest combined score. **CV** stands for Coefficient of Variation (std/mean), measuring consistency across datasets.

## Dataset Descriptions

The benchmark evaluates algorithms across diverse datasets covering speech, music, synthetic, and real-world conditions:

| **Dataset** | **Domain** | **Type** | **Description** |
|---|---|---|---|
| **NSynth** | Music | Synthetic | Single-note synthetic audio from musical instruments with accurate pitch labels. Lacks temporal/spectral complexity of real-world environments. |
| **PTDB** | Speech | Real | Speech recordings with laryngograph signals capturing vocal fold vibrations. Ground truth derived from high-pass filtered laryngograph signals processed with RAPT algorithm. |
| **PTDBNoisy** | Speech | Real | Subset of 347 PTDB files (7.4%) with noticeable noise that were excluded from main evaluation. |
| **MIR1K** | Music | Real | Vocal excerpts with pitch contours initially extracted algorithmically (e.g., YIN) followed by manual correction. Labels still reflect some algorithmic biases. |
| **MDBStemSynth** | Music | Synthetic | Musically structured synthetic audio with accurate pitch annotations. Valuable for controlled evaluation but lacks real-world acoustic variability. |
| **Vocadito** | Music | Real | Solo vocal recordings with pitch annotations derived from pYIN algorithm, refined through manual verification process. |
| **Bach10Synth** | Music | Synthetic | High-quality pitch labels for synthesized musical performances. Similar to MDB-STEM-Synth but focused on Bach compositions. |
| **SpeechSynth** | Speech | Synthetic | Synthetic Mandarin speech generated using LightSpeech TTS model. Trained on 97.48 hours from AISHELL-3 and Biaobei datasets, providing exact pitch ground truth. |

**Key Characteristics:**
- **Synthetic datasets** provide perfect ground truth but may lack real-world complexity
- **Real datasets** capture natural acoustic variations but have imperfect ground truth annotations
- **Speech datasets** focus on vocal pitch tracking challenges
- **Music datasets** encompass instrumental and vocal music scenarios
- **SpeechSynth** addresses the gap of lacking synthetic speech data with accurate pitch labels

## Overall Performance Rankings

| **Algorithm** | **Bach10Synth** | **MDBStemSynth** | **MIR1K** | **NSynth** | **PTDB** | **PTDBNoisy** | **SpeechSynth** | **Vocadito** | **Average** |
|---|---|---|---|---|---|---|---|---|---|
| **SwiftF0** | 97.5% | 92.0% | 95.0% | **89.3%** | 90.4% | 74.0% | **90.7%** | 92.6% | **90.2%** |
| RMVPE | 98.1% | 90.6% | **96.0%** | 68.2% | 88.9% | 68.5% | 90.6% | **96.4%** | 87.2% |
| CREPE | **98.5%** | 90.5% | 95.7% | 80.2% | 79.7% | 53.8% | 88.3% | 95.6% | 85.3% |
| PENN | 97.3% | **94.0%** | 89.0% | 63.3% | **91.0%** | **76.4%** | 84.8% | 82.4% | 84.8% |
| Praat | 96.0% | 90.7% | 92.6% | 70.7% | 86.2% | 65.3% | 88.2% | 88.2% | 84.7% |
| SPICE | 95.0% | 89.4% | 92.7% | 68.8% | 77.8% | 55.9% | 87.9% | 92.3% | 82.5% |
| TorchCREPE | 96.7% | 85.1% | 71.4% | 83.8% | 78.3% | 61.2% | 79.7% | 89.0% | 80.6% |
| pYIN | 97.5% | 90.3% | 91.2% | 74.3% | 72.1% | 43.2% | 81.4% | 79.5% | 78.7% |
| RAPT | 91.9% | 79.6% | 82.4% | 54.6% | 68.4% | 48.9% | 74.3% | 87.5% | 73.5% |
| SWIPE | 77.8% | 65.6% | 77.1% | 51.4% | 66.6% | 45.0% | 77.1% | 66.6% | 65.9% |
| YAAPT | 58.5% | 39.6% | 82.0% | 6.4% | 69.8% | 51.7% | 83.5% | 88.6% | 60.0% |
| BasicPitch | 23.7% | 12.4% | 36.5% | 77.7% | 23.1% | 12.6% | 61.2% | 17.8% | 33.1% |

## Speed Performance (CPU)

| **Algorithm** | **CPU Time (ms) ↓** | **Relative Speed ↑** |
|---|---|---|
| **Praat** | **2.8** | **534.15x** |
| RAPT | 3.3 | 454.63x |
| SwiftF0 | 16.2 | 91.86x |
| BasicPitch | 23.3 | 64.01x |
| SPICE | 27.5 | 54.15x |
| YAAPT | 33.4 | 44.59x |
| SWIPE | 36.7 | 40.55x |
| PENN | 126.6 | 11.76x |
| pYIN | 274.6 | 5.42x |
| RMVPE | 293.3 | 5.08x |
| TorchCREPE | 722.0 | 2.06x |
| CREPE | 1425.9 | 1.00x |

## Detailed Performance Analysis

### Voicing Detection Performance
Measures how well algorithms distinguish between voiced (pitched) and unvoiced (unpitched) audio segments.

| **Algorithm** | **Precision ↑** | **Recall ↑** | **F1-Score ↑** |
|---|---|---|---|
| BasicPitch | 0.686 | 0.432 | 0.523 |
| CREPE | 0.897 | 0.772 | 0.826 |
| PENN | 0.937 | 0.751 | 0.827 |
| Praat | **0.937** | 0.794 | 0.857 |
| RAPT | 0.844 | 0.897 | 0.857 |
| RMVPE | 0.902 | 0.793 | 0.837 |
| SPICE | 0.823 | 0.804 | 0.808 |
| SWIPE | 0.777 | 0.875 | 0.803 |
| **SwiftF0** | 0.903 | 0.871 | **0.885** |
| TorchCREPE | 0.919 | 0.670 | 0.761 |
| YAAPT | 0.838 | **0.912** | 0.868 |
| pYIN | 0.913 | 0.633 | 0.731 |

### Pitch Accuracy Metrics
Detailed pitch estimation accuracy across different error types and magnitudes.

| **Algorithm** | **RPA ↑** | **RCA ↑** | **Cents Error ↓** | **RMSE (Hz) ↓** | **Octave Error ↓** | **Gross Error ↓** |
|---|---|---|---|---|---|---|
| BasicPitch | 0.307 | 0.321 | 264.5 | 63.7 | 0.095 | 0.426 |
| CREPE | **0.928** | **0.939** | 51.4 | 32.6 | 0.025 | 0.032 |
| PENN | 0.895 | 0.912 | 48.7 | 28.7 | 0.024 | 0.032 |
| Praat | 0.907 | 0.928 | 54.1 | 40.2 | 0.029 | 0.036 |
| RAPT | 0.774 | 0.793 | 114.5 | 63.8 | 0.059 | 0.085 |
| RMVPE | 0.921 | 0.932 | 40.9 | 30.1 | 0.020 | 0.022 |
| SPICE | 0.862 | 0.875 | 60.4 | 35.6 | 0.028 | 0.039 |
| SWIPE | 0.799 | 0.846 | 140.0 | 75.4 | 0.087 | 0.102 |
| SwiftF0 | 0.905 | 0.911 | **35.4** | **25.1** | **0.012** | **0.017** |
| TorchCREPE | 0.783 | 0.791 | 55.1 | 26.5 | 0.018 | 0.030 |
| YAAPT | 0.692 | 0.753 | 280.4 | 113.8 | 0.119 | 0.145 |
| pYIN | 0.878 | 0.893 | 62.9 | 41.2 | 0.032 | 0.041 |

**Additional Metric Definitions:**
- **RCA** (Raw Chroma Accuracy): Fraction with correct pitch class (note name), ignoring octave
- **Cents Error**: Mean absolute pitch deviation in cents (raw error, before exponential transform used in CA)
- **RMSE**: Root Mean Square Error in Hz

### Pitch Contour Smoothness
Measures the temporal stability and continuity of pitch tracks.

| **Algorithm** | **Relative Smoothness ↓** | **Continuity Breaks ↓** | **Overall Smoothness Rank ↓** |
|---|---|---|---|
| **RMVPE** | 1.297 | 0.843 | **4.5** |
| **SPICE** | 1.766 | 0.638 | **4.5** |
| **SwiftF0** | 1.704 | 0.742 | **4.5** |
| RAPT | 3.568 | 0.576 | 6.0 |
| SWIPE | 3.659 | 0.557 | 6.0 |
| CREPE | 1.380 | 0.933 | 6.5 |
| PENN | 1.902 | 0.825 | 6.5 |
| TorchCREPE | **0.848** | 0.961 | 6.5 |
| YAAPT | 5.302 | **0.464** | 6.5 |
| Praat | 1.827 | 0.903 | 7.5 |
| pYIN | 3.348 | 0.869 | 8.0 |
| BasicPitch | 4.088 | 0.936 | 11.0 |

**Metric Definitions:**
- **Relative Smoothness**: Coefficient of variation of consecutive pitch changes (std/mean of relative frame-to-frame changes)
- **Continuity Breaks**: Fraction of ground-truth voiced segments where predicted voicing has gaps
- **Overall Smoothness Rank**: Average rank across both smoothness metrics (1=best, lower is better)

### Optimal Threshold Analysis
Voicing confidence thresholds that maximize overall performance scores.

| **Algorithm** | **Mean Threshold** | **Std Dev ↓** | **Range** |
|---|---|---|---|
| BasicPitch | 0.450 | 0.180 | 0.30-0.80 |
| CREPE | 0.775 | 0.043 | 0.70-0.80 |
| PENN | 0.388 | 0.093 | 0.20-0.50 |
| Praat | 0.775 | 0.097 | 0.60-0.90 |
| RAPT | 0.525 | 0.290 | 0.00-0.80 |
| RMVPE | 0.688 | 0.078 | 0.60-0.80 |
| SPICE | 0.825 | 0.066 | 0.70-0.90 |
| SWIPE | 0.400 | 0.304 | 0.00-0.80 |
| SwiftF0 | 0.887 | 0.033 | 0.80-0.90 |
| TorchCREPE | 0.613 | 0.215 | 0.20-0.80 |
| YAAPT | 0.675 | 0.263 | 0.30-1.00 |
| pYIN | 0.100 | **0.000** | 0.10-0.10 |

### Algorithm Consistency
Measures performance stability across different datasets using Coefficient of Variation (CV = std/mean).

| **Algorithm** | **Performance CV ↓** | **Threshold CV ↓** |
|---|---|---|
| BasicPitch | 0.680 | 0.401 |
| CREPE | 0.159 | 0.056 |
| PENN | 0.121 | 0.239 |
| Praat | 0.120 | 0.125 |
| RAPT | 0.195 | 0.553 |
| RMVPE | 0.129 | 0.114 |
| SPICE | 0.157 | 0.080 |
| SWIPE | 0.173 | 0.760 |
| SwiftF0 | **0.073** | 0.037 |
| TorchCREPE | 0.126 | 0.351 |
| YAAPT | 0.429 | 0.390 |
| pYIN | 0.200 | **0.000** |

## Performance by Dataset Subsets

### By Origin
- **Synthetic**: Bach10Synth, MDBStemSynth, SpeechSynth, NSynth
- **Real**: MIR1K, PTDB, PTDBNoisy, Vocadito

| **Algorithm** | **Synthetic** | **Real** |
|---|---|---|
| BasicPitch | 43.8% | 22.5% |
| CREPE | 89.4% | 81.2% |
| PENN | 84.9% | 84.7% |
| Praat | 86.4% | 83.1% |
| RAPT | 75.1% | 71.8% |
| RMVPE | 86.9% | 87.5% |
| SPICE | 85.3% | 79.7% |
| SWIPE | 68.0% | 63.8% |
| **SwiftF0** | **92.3%** | **88.0%** |
| TorchCREPE | 86.3% | 75.0% |
| YAAPT | 47.0% | 73.0% |
| pYIN | 85.9% | 71.5% |

### By Domain
- **Speech**: PTDB, PTDBNoisy, SpeechSynth
- **Music**: Bach10Synth, MDBStemSynth, NSynth, Vocadito, MIR1K

| **Algorithm** | **Speech** | **Music** |
|---|---|---|
| BasicPitch | 32.3% | 33.6% |
| CREPE | 73.9% | 92.1% |
| PENN | 84.1% | 85.2% |
| Praat | 79.9% | 87.6% |
| RAPT | 63.9% | 79.2% |
| RMVPE | 82.7% | 89.9% |
| SPICE | 73.9% | 87.6% |
| SWIPE | 62.9% | 67.7% |
| **SwiftF0** | **85.0%** | **93.3%** |
| TorchCREPE | 73.0% | 85.2% |
| YAAPT | 68.4% | 55.0% |
| pYIN | 65.6% | 86.6% |

### By Cross-Dimension
- **Synthetic + Speech**: SpeechSynth
- **Synthetic + Music**: Bach10Synth, MDBStemSynth, NSynth
- **Real + Speech**: PTDB, PTDBNoisy
- **Real + Music**: Vocadito, MIR1K

| **Algorithm** | **Synthetic + Speech** | **Synthetic + Music** | **Real + Speech** | **Real + Music** |
|---|---|---|---|---|
| BasicPitch | 61.2% | 37.9% | 17.8% | 27.2% |
| CREPE | 88.3% | 89.7% | 66.7% | 95.6% |
| PENN | 84.8% | 84.9% | **83.7%** | 85.7% |
| Praat | 88.2% | 85.8% | 75.8% | 90.4% |
| RAPT | 74.3% | 75.4% | 58.7% | 85.0% |
| **RMVPE** | **90.6%** | 85.7% | 78.7% | **96.2%** |
| SPICE | 87.9% | 84.4% | 66.8% | 92.5% |
| SWIPE | 77.1% | 65.0% | 55.8% | 71.8% |
| **SwiftF0** | **90.7%** | **92.9%** | 82.2% | 93.8% |
| TorchCREPE | 79.7% | 88.5% | 69.7% | 80.2% |
| YAAPT | 83.5% | 34.8% | 60.8% | 85.3% |
| pYIN | 81.4% | 87.4% | 57.6% | 85.4% |

